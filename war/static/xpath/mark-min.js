var k=1,l=0,n=null,p=0;function q(a){return null==a||"null"==a||""==a||void 0==a||"undefined"==a||[]==a||void 0==jQuery(a).get(0).tagName}function r(a,b){jQuery(a).append(b)}function v(a,b,c,e,d,g){a.css({left:b,top:c,width:e,height:d});a.css({"z-index":99999,position:"absolute","background-color":"#facd93"});a.css(g,"1px dashed #000")}function w(a,b,c,e,d){a.css({left:b,top:c,width:e,height:d});a.css({"z-index":99999,position:"absolute","background-color":"#000",opacity:.5})}
function aa(a){var b="#F9AEAE #F1C194 #F3E13B #CEF57B #9CF994 #75D8BA #55C5F5 #A7A5E4 #D291FF #FF91D5 #EBD2D6".split(" "),c=b.length;a>=c&&(a=c-1);return b[a]}
function x(a,b,c,e){p+=1;var d="";b&&(d="<div class='ncx_selector' style='background-color:"+e+";'><a class='ncx-highlight-button ncx-accept-highlight' lang='"+c+"'></a><a class='ncx-highlight-button ncx-reject-highlight' lang='"+c+"'></a></div>");jQuery("#ncx_curlCover").append("<div id='ncx_traceHighlight_top_"+p+"' class='ncx_highlightTool'></div>");jQuery("#ncx_curlCover").append("<div id='ncx_traceHighlight_right_"+p+"' class='ncx_highlightTool'>"+d+"</div>");jQuery("#ncx_curlCover").append("<div id='ncx_traceHighlight_bottom_"+
p+"' class='ncx_highlightTool'></div>");jQuery("#ncx_curlCover").append("<div id='ncx_traceHighlight_left_"+p+"' class='ncx_highlightTool'></div>");b=jQuery("#ncx_traceHighlight_top_"+p+"");e=jQuery("#ncx_traceHighlight_right_"+p+"");var d=jQuery("#ncx_traceHighlight_bottom_"+p+""),g=jQuery("#ncx_traceHighlight_left_"+p+"");c=jQuery(a).offset();var f=jQuery(a).outerWidth();a=jQuery(a).outerHeight();var h=jQuery(document).width();f>h&&(f=h-8);v(b,c.left-2,c.top-2,f+4,2,"border-bottom");v(e,c.left+
f,c.top,2,a,"border-left");v(d,c.left-2,c.top+a,f+4,2,"border-top");v(g,c.left-2,c.top,2,a,"border-right")}
function ba(a){jQuery(".ncx_highlightTool").remove();var b=jQuery(a).offset().top,c=jQuery(a).offset().left,e=jQuery(a).outerWidth(),d=jQuery(a).outerHeight(),g=jQuery(document.body).outerHeight(),f=jQuery(document.body).outerWidth();e>f+8&&(e=f);r("#ncx_curlCover","<div id='ncx_highlightCover_top' class='ncx_highlightTool'></div>");r("#ncx_curlCover","<div id='ncx_highlightCover_right' class='ncx_highlightTool'></div>");r("#ncx_curlCover","<div id='ncx_highlightCover_bottom' class='ncx_highlightTool'></div>");
r("#ncx_curlCover","<div id='ncx_highlightCover_left' class='ncx_highlightTool'></div>");var h=jQuery("#ncx_highlightCover_top"),m=jQuery("#ncx_highlightCover_right"),t=jQuery("#ncx_highlightCover_bottom"),u=jQuery("#ncx_highlightCover_left");w(h,0,0,f+8,b-3);w(m,c+3+e,b-3,f-c-3-e+8,d+6);w(t,0,b+3+d,f+8,g-b-d+155);w(u,0,b-3,c-3,d+6);k=0;r("#ncx_curlCover","<div id='ncx_editHighlight_top' class='ncx_highlightTool'></div>");r("#ncx_curlCover","<div id='ncx_editHighlight_right' class='ncx_highlightTool'></div>");
r("#ncx_curlCover","<div id='ncx_editHighlight_bottom' class='ncx_highlightTool'></div>");r("#ncx_curlCover","<div id='ncx_editHighlight_left' class='ncx_highlightTool'></div>");b=jQuery("#ncx_editHighlight_top");c=jQuery("#ncx_editHighlight_right");d=jQuery("#ncx_editHighlight_bottom");g=jQuery("#ncx_editHighlight_left");f=jQuery(a).offset();v(b,f.left-2,f.top-2,e+4,2,"border-bottom");v(c,f.left+e,f.top,2,jQuery(a).outerHeight(),"border-left");v(d,f.left-2,f.top+jQuery(a).outerHeight(),e+4,2,"border-top");
v(g,f.left-2,f.top,2,jQuery(a).outerHeight(),"border-right");jQuery(".ncx_highlightTool").click(function(){y()})}function y(){jQuery(".ncx_highlightTool").remove();jQuery("#ncx_edit_tpl_tool").remove();k=1;jQuery("#ncx_curlCover").css({"pointer-events":"none"});0==z&&jQuery("#ncx_toolbar .ncx-datatypes .active .ncx-count").text("0")}
function A(a,b,c){if(z){B=null;for(var e=C.length,d=e-1;0<d;d--)if("a"==C[d]||0==C[d].indexOf("a:")){for(var g=[],e=d,f=0;f<=e;f++)g[f]=C[f];d=g.join("");d=d.replace(":nth-of-type(*)","");a=jQuery(document).find(d)[0];C=g.slice(0);B=g.slice(0);break}if(null==B){y();return}}jQuery(".ncx_highlightTool").remove();var h=null,m=0;if(!z&&1<D.length){h=D[1].a;d=1;for(e=D.length;d<e;d++)for(f=0,g=D[d].a.length;f<g;f++)-1!=D[d].a[f].indexOf(":nth-of-type(*)")&&(h=D[d].a);m=h.length}g=0;if(!c)for(d=0,e=B.length;d<
e;d++)if(-1!=B[d].indexOf(":nth-of-type(*)")){if(null!=h)if(m>d){if(-1==h[d].indexOf(":nth-of-type(*)")){B[d]=C[d];continue}}else{B[d]=C[d];continue}g++}c=!1;if(0<g)c=!0,jQuery("#ncx_edit_tpl_tool").remove(),b=k=1;else{ba(a);1===b?ca(a):da(a);d=B.join("");jQuery("#ncx_copy_xpath_text").text(d);e=jQuery(a).get(0);jQuery("select[name='ncx_attr']").empty();jQuery("select[name='ncx_attr']").append('<option value=""></option>');g=!1;d=0;h=e.attributes;for(m=h.length;d<m;d++)f=h[d].nodeName.toLowerCase(),
"class"!=f&&"style"!=f&&"target"!=f&&"width"!=f&&"height"!=f&&0!=f.indexOf("on")&&(jQuery("select[name='ncx_attr']").append('<option value="'+f+'">'+f+"</option>"),g=!0);g?(jQuery("input[name='ncx_selectType'][value='@ATTR']").attr("disabled",!1),jQuery("select[name='ncx_attr']").attr("disabled",!1)):(jQuery("input[name='ncx_selectType'][value='@ATTR']").attr("disabled",!0),jQuery("select[name='ncx_attr']").attr("disabled",!0));("img"==e.tagName.toLowerCase()||z)&&g?(jQuery("select[name='ncx_attr'] option:nth-child(2)").attr("selected",
!0),jQuery("input[name='ncx_selectType'][value='@ATTR']").attr("checked",!0),jQuery("select[name='ncx_attr']").change()):(jQuery("input[name='ncx_selectType'][value='innerHTML']").attr("checked",!0),d=e.innerHTML,jQuery("#ncx_content_preview").text(d))}g=0;h=[];d=m=0;for(e=B.length;d<e;d++)if(h[d]=B[d],-1!=h[d].indexOf(":nth-of-type(*)")){for(f=d+1;f<e;f++)h[f]=C[f];var f=h.join(""),f=f.replace(":nth-of-type(*)",""),f=jQuery(document).find(f),t=f.length,g=g+t,u=aa(m);m++;for(var N=0;N<t;N++){var O=
f[N];E(a,O)?x(O,!1,d,null):x(O,c,d,u)}h[d]=C[d]}0==g&&g++;z||jQuery("#ncx_toolbar .ncx-datatypes .active .ncx-count").text(g);jQuery(".ncx-accept-highlight").unbind("click").click(function(){for(var c=jQuery(this).attr("lang"),d=0,e=B.length;d<e;d++)-1!=B[d].indexOf(":nth-of-type(*)")&&c!=d&&(B[d]=C[d]);A(a,b,!0)});jQuery(".ncx-reject-highlight").unbind("click").click(function(){for(var c=jQuery(this).attr("lang"),d=0,e=B.length;d<e;d++)-1!=B[d].indexOf(":nth-of-type(*)")&&c==d&&(B[d]=C[d]);A(a,b,
!1)})}var F=0,G=[],H={},B=[],C=[];function I(a){G.push(a);a=jQuery(a).parent();var b=a.get(0);return q(b)?G:I(a)}function ca(a){H=a;jQuery("#ncx_edit_tpl_tool").remove();r("#ncx_cover-container",J("et_wrap"));K("ncx_et_state_10");L(a);ea();G=[];I(a);jQuery("#ncx_edit_tpl_tool").removeData("child");jQuery("#ncx_edit_tpl_tool").data("child",G)}
function da(a){H=a;L(a);a=jQuery(H).get(0).innerHTML;jQuery("#ncx_content_preview").text(a);jQuery("#ncx_copy_xpath_tips").text("");jQuery("#ncx_copy_xpath_text").css({"background-color":"white"});jQuery("#ncx_copy_csspath_tips").text("");jQuery("#ncx_copy_csspath_text").css({"background-color":"white"})}
function L(a){var b=jQuery(a).offset().top,c=jQuery(a).offset().left,e=jQuery(a).outerWidth(),d=jQuery(a).outerHeight(),g=jQuery(document.body).outerHeight();a=jQuery(document.body).outerWidth();65>g-b-d?(c=c+e-400,b+=1,0>=c&&(c=0),c>a&&(c=a-8),0>b&&(b=0),jQuery("#ncx_edit_tpl_tool").css({left:c+"px",top:b+"px"})):(c=c+e-397,b=b+d+3,0>=c&&(c=0),c>a&&(c=a-499),jQuery("#ncx_edit_tpl_tool").css({left:c+"px",top:b+"px"}));jQuery(window).scrollTop(b-300);jQuery(window).scrollLeft(c-200)}
function J(a){var b="";switch(a){case "et_wrap":b="<div class='ncx_edit_tpl_tool' style='position : absolute; z-index : 999990;' id='ncx_edit_tpl_tool'><ul id='ncx_et_bar' class='ncx_et_bar'><li class='ncx_col1'><div id='ncx_larger' class='ncx_larger'></div><div id='ncx_smaller' class='ncx_smaller'></div></li><li class='ncx_col4' id='ncx_et_state_4'><span class='ncx_bar_button_tilte'>Preview</span></li>";b+="</ul><div id='ncx_et_content' class='ncx_et_content'></div><div id='ncx_et_content_footer' class='ncx_et_content_footer'></div></div>";
break;case "et_conetent_inner_20":b="<div class='ncx_et_content_inner' id='ncx_copy_xpath_container' style='position:relative'><pre id='ncx_copy_xpath_text' class='ncx_xpath'>xpath express test!!!</pre>";b+="<div class='ncx_button'><button id='ncx_copy_xpath_button' class='ncx_xpath_copy'>Copy Selector</button><button class='ncx_et_cancel'></button></div>";b+="<div id='ncx_copy_xpath_tips' class='ncx_tips'></div>";b+="</div>";break;case "et_conetent_inner_30":b="<div class='ncx_et_content_inner' id='ncx_copy_csspath_container' style='position:relative'><pre id='ncx_copy_csspath_text' class='ncx_csspath'>csspath express test!!!</pre>";
b+="<div class='ncx_button'><button id='ncx_copy_csspath_button' class='ncx_csspath_copy'>Copy Selector</button><button class='ncx_et_cancel'></button></div>";b+="<div id='ncx_copy_csspath_tips' class='ncx_tips'></div>";b+="</div>";break;case "et_conetent_inner_40":b="<div class='ncx_et_content_inner'><div><pre id='ncx_copy_xpath_text' class='ncx_xpath ncx_expression'>xpath express test!!!</pre></div>",b+="<div style='height: 22px;'>",b+="<div style='float:left;margin-left:0px;width:80px;'><input name='ncx_selectType' type='radio' value='outerHTML' style='vertical-align: middle;'><span>outerHTML</span></div>",
b+="<div style='float:left;margin-left:0px;width:80px;'><input name='ncx_selectType' type='radio' value='innerHTML' style='vertical-align: middle;' checked='checked' ><span>innerHTML</span></div>",b+="<div style='float:left;margin-left:0px;width:80px;'><input name='ncx_selectType' type='radio' value='innerTEXT' style='vertical-align: middle;'><span>innerTEXT</span></div>",b+="<div style='float:left;margin-left:0px;width:80px;'><input name='ncx_selectType' type='radio' value='@ATTR' style='vertical-align: middle;display:none;'><span><select name='ncx_attr'></select></span></div>",
b+="</div>",b+="<div><pre id='ncx_content_preview' class='ncx_content'></pre></div>",b+="<div class='ncx_button'>",b+="<button id='ncx_copy_xpath_button' class='ncx_xpath_copy'>Copy Selector</button>",b+="<button class='ncx_et_cancel'></button>",b+="<button class='ncx_et_create'></button>",b+="</div>",b+="<div class='ncx_tips'></div></div>"}return b}
function M(){var a=new ZeroClipboard(document.getElementById("ncx_copy_csspath_button"));a.on("ready",function(){a.on("copy",function(a){a.clipboardData.setData("text/plain",jQuery("#ncx_copy_csspath_text").text())});a.on("aftercopy",function(){jQuery(".ncx_tips").text("Copied CssPath.");jQuery(".ncx_expression").css({"background-color":"white"});jQuery("#ncx_copy_csspath_text").css({"background-color":"rgb(236, 248, 233)"})})});var b=new ZeroClipboard(document.getElementById("ncx_copy_xpath_button"));
b.on("ready",function(){b.on("copy",function(a){a.clipboardData.setData("text/plain",jQuery("#ncx_copy_xpath_text").text())});b.on("aftercopy",function(){jQuery(".ncx_tips").text("Copied XPath.");jQuery(".ncx_expression").css({"background-color":"white"});jQuery("#ncx_copy_xpath_text").css({"background-color":"rgb(236, 248, 233)"})})})}
function K(a){jQuery("#ncx_et_bar").removeClass("ncx_shape1");jQuery(".ncx_bar_button_tilte").removeClass("ncx_on");jQuery("#ncx_et_content").removeClass("ncx_shape1");jQuery("#ncx_et_content_footer").removeClass("ncx_shape1");jQuery("#ncx_et_content").empty();switch(a){case "ncx_et_state_10":jQuery("#ncx_et_bar").addClass("ncx_shape1");break;case "ncx_et_state_20":jQuery("#ncx_et_bar").addClass("ncx_shape1");jQuery(".ncx_col2 > .ncx_bar_button_tilte").addClass("ncx_on");jQuery("#ncx_et_content").addClass("ncx_shape1");
jQuery("#ncx_et_content_footer").addClass("ncx_shape1");a=J("et_conetent_inner_20");r("#ncx_et_content",a);a=P(jQuery(H).get(0));jQuery("#ncx_copy_xpath_text").text(a);M();break;case "ncx_et_state_30":jQuery("#ncx_et_bar").addClass("ncx_shape1");jQuery(".ncx_col3 > .ncx_bar_button_tilte").addClass("ncx_on");jQuery("#ncx_et_content").addClass("ncx_shape1");jQuery("#ncx_et_content_footer").addClass("ncx_shape1");a=J("et_conetent_inner_30");r("#ncx_et_content",a);a=P(jQuery(H).get(0));jQuery("#ncx_copy_csspath_text").text(a);
M();break;case "ncx_et_state_40":jQuery("#ncx_et_bar").addClass("ncx_shape1"),jQuery(".ncx_col4 > .ncx_bar_button_tilte").addClass("ncx_on"),jQuery("#ncx_et_content").addClass("ncx_shape1"),jQuery("#ncx_et_content_footer").addClass("ncx_shape1"),a=J("et_conetent_inner_40"),r("#ncx_et_content",a),jQuery(H).get(0),jQuery("select[name='ncx_attr']").unbind("change").change(function(){jQuery("input[name=ncx_selectType][value='@ATTR']").attr("checked",!0);if(""==this.value)jQuery("input[name=ncx_selectType][value='innerHTML']").attr("checked",
!0),jQuery("input[name=ncx_selectType][value='innerHTML']").click();else{var a=jQuery("select[name='ncx_attr']").val();jQuery("#ncx_content_preview").text("");var c=C.join(""),c=c.replace(":nth-of-type(*)",""),c=jQuery(document).find(c);0<c.length&&jQuery("#ncx_content_preview").text(c.attr(a))}}),jQuery("input[name=ncx_selectType]").unbind("click").click(function(){jQuery("select[name='ncx_attr']").val("");switch(jQuery(this).val()){case "outerHTML":var a=jQuery(H).get(0),a=a.outerHTML;jQuery("#ncx_content_preview").text(a);
break;case "innerHTML":a=jQuery(H).get(0);a=a.innerHTML;jQuery("#ncx_content_preview").text(a);break;case "innerTEXT":jQuery("#ncx_content_preview").text(jQuery(H).text())}}),M()}jQuery(".ncx_et_cancel").click(function(){y()});jQuery(".ncx_et_create").click(function(){var a=B.join(""),c=Q,e=jQuery("input[name=ncx_selectType]:checked").val(),d=jQuery("select[name='ncx_attr']").val(),g="property";if(z)c=0,g="property"+c;else for(var f=c;500>f;f++){for(var g="property"+f,h=!1,m=1,t=D.length;m<t;m++)if(g==
D[m].name){h=!0;break}if(!h)break}R(null,c,g,a,B,e,z,d);y()})}function fa(a){var b=[];a=a.split(" > ");for(var c=0,e=a.length;c<e;c++)""!=a[c]&&(b.push(" > "),b.push(a[c]));" > "==b[0]&&(b=b.slice(1));return b}
function R(a,b,c,e,d,g,f,h){f?D[0]={id:a,index:0,name:c,b:e,a:d,f:g,c:h}:(f=e.replace(":nth-of-type(*)",""),f=jQuery(document).find(f).length,jQuery("#ncx_toolbar .ncx-datatypes .active .ncx-count").text(f),f=jQuery("#ncx_toolbar .ncx-datatypes .active"),f.addClass("ncx-blue finished"),f.removeClass("ncx-yellow"),f.removeClass("active"),D.push({id:a,index:b,name:c,b:e,a:d,f:g,c:h}),Q+=1,jQuery('<a lang="'+Q+'" class="ncx-label ncx-data-dot ncx-yellow active"><span class="ncx-count">0</span><span class="ncx-delete-datatype" style="display: none;"></span></a>').insertBefore("#ncx_toolbar .ncx-datatypes .ncx-pagination"));
jQuery("#ncx_toolbar .save").attr("disabled",!1);S()}function E(a,b){return void 0==a||void 0==b?!1:0==a.compareDocumentPosition(b)?!0:!1}
function P(a){B=[];for(C=[];a&&void 0!==a.tagName;a=a.parentNode){var b=a.tagName;if(!b)break;b=b.toLowerCase();if("ncx_cover-container"!=a.id&&"ncx_message-box"!=a.id){var c=jQuery(a).parent().children(b).not("#ncx_message-box").not("#ncx_cover-container"),e=c.length,d="",g="";if(1<e)for(var f=0;f<e;f++){var h=c[f];if(E(a,h))""==d&&(d=":nth-of-type("+(f+1)+")"),g=":nth-of-type("+(f+1)+")";else if(":nth-of-type(*)"!=d)if(0<B.length){var m=C.join(""),h=jQuery(h).find(m).length;0<h&&0<h&&(d=":nth-of-type(*)")}else d=
":nth-of-type(*)"}""==d&&(g=d="");if("html"==b||"body"==b)g=d="";d=b+d;g=b+g;b=T(g);c=!1;e="#";f="";a.className&&!/\s/.test(a.className)?(c=!0,e=".",f=a.className):a.id&&!/\s/.test(a.id)&&(c=!0,f=a.id);if(c){if(z)for(c=!1,h=0,m=B.length;h<m;h++)if("a"==B[h]||0==B[h].indexOf("a[")){c=!0;break}if(c&&(c=e+f,T(c)==b&&ga(c,0)))if(1<D.length){if(c==D[1].a[0]){B.unshift(c);C.unshift(c);break}}else{B.unshift(c);C.unshift(c);break}}B.unshift(d);B.unshift(" > ");C.unshift(g);C.unshift(" > ")}}" > "==B[0]&&
(B=B.slice(1),C=C.slice(1));return B.join("")}function ga(a,b){for(var c=b,e=!1,d=B.slice(0),g=0,f=d.length;g<f;g++)-1!=d[g].indexOf(":nth-of-type(*)")&&(g>b||0==b?c==b?(d[g]=d[g].replace(":nth-of-type(*)",""),b=g):(e=!0,d[g]=C[g]):d[g]=C[g]);d.unshift(a);a=d.join("");var h=!0,m=null;jQuery(document).find(a).each(function(){if(null==m)m=ha(this,d);else{var a=ha(this,d);if(!E(a[0],m[0]))return h=!1}});return e?h&&ga(a,b):h}
function ha(a,b){for(var c=b.length/2-1,e=jQuery(a).parent(),d=0;d<c;d++)e=jQuery(e).parent();return e}function T(a){for(var b=B.slice(0),c=0,e=b.length;c<e;c++)-1!=b[c].indexOf(":nth-of-type(*)")&&(b[c]=C[c]);b.unshift(a);a=b.join("");return jQuery(document).find(a).length}
function ea(){jQuery("#ncx_larger").mouseover(function(){jQuery(this).addClass("ncx_on")});jQuery("#ncx_smaller").mouseover(function(){jQuery(this).addClass("ncx_on")});jQuery("#ncx_larger").mouseout(function(){jQuery(this).removeClass("ncx_on")});jQuery("#ncx_smaller").mouseout(function(){jQuery(this).removeClass("ncx_on")});jQuery(".ncx_bar_button_tilte").mouseover(function(){jQuery(this).addClass("ncx_onhover")});jQuery(".ncx_bar_button_tilte").mouseout(function(){jQuery(this).removeClass("ncx_onhover")});
jQuery("#ncx_larger").click(function(){var a=jQuery("#ncx_edit_tpl_tool").data("child");F<a.length&&F++;a=a[F];q(a)||(P(jQuery(a).get(0)),A(jQuery(a).get(0),2,!1))});jQuery("#ncx_smaller").click(function(){var a=jQuery("#ncx_edit_tpl_tool").data("child");0<F&&F--;a=a[F];q(a)||(P(jQuery(a).get(0)),A(jQuery(a).get(0),2,!1))});jQuery("#ncx_et_state_2").click(function(){K("ncx_et_state_20")});jQuery("#ncx_et_state_3").click(function(){K("ncx_et_state_30")});jQuery("#ncx_et_state_4").click(function(){K("ncx_et_state_40")});
jQuery("#ncx_et_state_4").trigger("click")}var Q=1,z=!1,D=[],U=null,V=null,W=null;
function ia(){jQuery("a").unbind("click").click(function(){return!1});jQuery(document.body).contents().find("*").not(".ncx_curlCover").not(".ncx_highlightTool").each(function(){jQuery(this).off()});jQuery(document.body).contents().find("*").not(".ncx_curlCover").not(".ncx_highlightTool").each(function(){this.onclick=function(){return!1}});jQuery(document.body).contents().find("*").not(".ncx_curlCover").not(".ncx_highlightTool").mouseover(function(a){a=a||window.event;a=a.target||a.srcElement;if("html"!=
jQuery(a).get(0).tagName.toLowerCase()&&"ncx_highlightTool"!=jQuery(a).attr("class")&&1==k){l=1;n=a;jQuery(".ncx_highlightTool").remove();jQuery("#ncx_curlCover").append("<div id='ncx_traceHighlight_top' class='ncx_highlightTool'></div>");jQuery("#ncx_curlCover").append("<div id='ncx_traceHighlight_right' class='ncx_highlightTool'></div>");jQuery("#ncx_curlCover").append("<div id='ncx_traceHighlight_bottom' class='ncx_highlightTool'></div>");jQuery("#ncx_curlCover").append("<div id='ncx_traceHighlight_left' class='ncx_highlightTool'></div>");
var b=jQuery("#ncx_traceHighlight_top"),c=jQuery("#ncx_traceHighlight_right"),e=jQuery("#ncx_traceHighlight_bottom"),d=jQuery("#ncx_traceHighlight_left"),g=jQuery(a).offset(),f=jQuery(a).outerWidth(),h=jQuery(document).width();f>h&&(f=h-8);v(b,g.left-2,g.top-2,f+4,2,"border-bottom");v(c,g.left+f,g.top,2,jQuery(a).outerHeight(),"border-left");v(e,g.left-2,g.top+jQuery(a).outerHeight(),f+4,2,"border-top");v(d,g.left-2,g.top,2,jQuery(a).outerHeight(),"border-right")}return!1});jQuery(document.body).contents().find("*").not(".ncx_curlCover").not(".ncx_highlightTool").each(function(){jQuery(this).click(function(){F=
0;if(1==l){var a=n;z=jQuery("#ncx_toolbar .ncx-datatypes .active").hasClass("ncx-pagination")?!0:!1;P(a);jQuery("#ncx_curlCover").css({"pointer-events":"auto"});A(a,1,!1)}return!1})})}
function S(){jQuery("#ncx_toolbar .ncx-datatypes .ncx-data-dot .ncx-delete-datatype").click(function(){var a=jQuery(this).parent().attr("lang"),b=[];b.push(D[0]);for(var c=1,e=D.length;c<e;c++)a!=D[c].index&&b.push(D[c]);D=b;jQuery(this).parent().remove();void 0==jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.finished")&&jQuery("#ncx_toolbar .save").attr("disabled",!0)});jQuery("#ncx_toolbar .ncx-datatypes .ncx-label.finished").mouseout(function(){jQuery(this).find(".ncx-delete-datatype").hide();
jQuery(this).find(".ncx-delete-datatype").removeClass("visible")});jQuery("#ncx_toolbar .ncx-datatypes .ncx-data-dot").unbind("click").click(function(){if(jQuery(this).hasClass("ncx-pagination")){var a=jQuery(this).hasClass("active");a||(jQuery(this).addClass("active"),jQuery("#ncx_toolbar .ncx-datatypes .ncx-yellow").each(function(){jQuery(this).removeClass("active")}))}else jQuery(this).hasClass("ncx-label")&&!jQuery(this).hasClass("finished")&&(a=jQuery(this).hasClass("active"),a||(jQuery(this).addClass("active"),
jQuery("#ncx_toolbar .ncx-datatypes .ncx-pagination").removeClass("active")));var a=jQuery(this).attr("lang"),b;for(b in D)if(a==D[b].index){var c=D[b].b;D[b].a.slice(0);for(var c=c.replace(":nth-of-type(*)",""),c=jQuery(document).find(c),e=c.length,d=0;d<e;d++){var g=c[d];if(0==d){var f=jQuery(g).offset().top,g=jQuery(g).outerHeight(),h=0;65>jQuery(document.body).outerHeight()-f-g?(h=f+1,0>h&&(h=0)):h=f+g+3;jQuery(window).scrollTop(h-300)}}}});jQuery("#ncx_toolbar .ncx-datatypes .ncx-data-dot").unbind("mouseover");
jQuery("#ncx_toolbar .ncx-datatypes .ncx-data-dot").mouseover(function(){jQuery(this).hasClass("ncx-label")&&jQuery(this).hasClass("finished")&&(jQuery(this).find(".ncx-delete-datatype").show(),jQuery(this).find(".ncx-delete-datatype").addClass("visible"));y();var a=jQuery(this).attr("lang"),b;for(b in D)if(a==D[b].index){var c=D[b].b;D[b].a.slice(0);for(var c=c.replace(":nth-of-type(*)",""),c=jQuery(document).find(c),e=c.length,d=0;d<e;d++)x(c[d],!1,0,null)}})}
function X(a){for(var b=window.location.search.substring(1).split("&"),c=0;c<b.length;c++){var e=b[c].split("=");if(e[0]==a)return e[1]}return""}
function ja(){if(null!=U&&void 0!=U&&!isNaN(U)){var a=document.location.href,a=a.substring(a.indexOf("://")+3,a.indexOf("/member/")),b="http://"+a+"/static/xpath/v2/toolbar.html";jQuery.ajax({type:"GET",url:b,async:!0,cache:!0,success:function(c){jQuery("body").append(c);jQuery("#ncx_toolbar .save").attr("disabled",!0);D[0]={};var e=null;if(null!=newcrawler_refresh&&void 0!=newcrawler_refresh&&"undefined"!=newcrawler_refresh){b="http://"+a+"/member/rules/query?webCrawlerId="+U+"&siteId="+V+"&rulesVerId="+
W;jQuery.ajax({type:"GET",dataType:"json",url:b,async:!1,success:function(a){e=a}});for(var d in e)if(!isNaN(d)&&"csspath"==e[d].searchMode){c=e[d].id;var g=e[d].name,f=e[d].selectExpress,h=e[d].selectType,m=e[d].selectAttr,t=e[d].labelType,u=fa(f);"2"==t?R(c,0,g,f,u,h,!0,m):R(c,Q,g,f,u,h,!1,m)}}jQuery("#ncx_toolbar .save").click(function(){var c=[],d;for(d in D){var e=D[d].id,f=D[d].index,g=D[d].name,h=D[d].b,m=D[d].f,t=D[d].c;if(null!=g&&""!=g&&null!=h&&""!=h){var u="1";0==f&&(u="2");c.push({id:e,
name:g,selectExpress:h,selectAttr:t,selectType:m,labelType:u})}}jQuery("#ncx_toolbar .ncx-toolbar-section.msg").html("<div class='loading'></div>");null!=c&&0<c.length&&(c=JSON.stringify(c),b="http://"+a+"/member/rules/save",jQuery.ajax({type:"POST",data:{webCrawlerId:U,siteId:V,rulesVerId:W,rulesJson:c,url:newcrawler_fetch_url},url:b,async:!0,dataType:"json",success:function(a){var b=a.msg;if("1"==a.code){if(null==newcrawler_refresh||void 0==newcrawler_refresh||"undefined"==newcrawler_refresh)null!=
a.siteId&&""!=a.siteId&&(V=a.siteId),null!=a.rulesVerId&&""!=a.rulesVerId&&(W=a.rulesVerId);else try{newcrawler_refresh()}catch(c){console.log(c.description||c)}b="<span style='color:green;'>"+b+"</span>"}else b="<span style='color:red;'>"+b+"</span>";jQuery("#ncx_toolbar .ncx-toolbar-section.msg").html("<div>"+b+"</div>");setTimeout(function(){jQuery("#ncx_toolbar .ncx-toolbar-section.msg").html("")},3E3)}}))});S()}})}}
function ka(){jQuery(document).find("*").unbind();jQuery(document.body).append('<div id="ncx_cover-container"><div id="ncx_curlCover" class="ncx_curlCover"  style="z-index : 99999; filter:Alpha(Opacity=100); -moz-opacity: 1; opacity: 1;  pointer-events:none; text-align: left; background : transparent;   "></div></div>');jQuery(document.body).css({cursor:"pointer"});jQuery(document.body).css({"margin-top":"48px"});document.title="New Crawler\u2122 "+document.title;U=X("webCrawlerId");V=X("siteId");
W=X("rulesVerId");var a=jQuery(document).height(),b=jQuery(document).width();600>b&&(b=980);jQuery("#ncx_curlCover").css({width:b,height:a+8});ia();try{ja()}catch(c){}}function Y(a,b,c){var e=document.createElement("script");e.id=c;e.setAttribute("type","text/javascript");e.setAttribute("src",b);e.onload=e.onreadystatechange=a;document.getElementsByTagName("head")[0].appendChild(e)}
function la(a){var b=newcrawler_server_url+"static/xpath/mark.css?v2.3",c=document.createElement("link");c.id="mark-css";c.setAttribute("rel","stylesheet");c.setAttribute("type","text/css");c.setAttribute("href",b);c.onload=c.onreadystatechange=a;document.getElementsByTagName("head")[0].appendChild(c)}
function Z(a,b,c){var e=document.getElementById("ncx_message-box");e?(e.innerHTML="",e.style.display="none"):(e=document.createElement("div"),e.innerHTML='<div id="ncx_message-box" style="background: #FFD76E; border: 1px solid #E1BA53; border-radius: 2px;padding: 5px 15px; font-size: 12px; font-color: #333; font-weight: bold; position: fixed!important; top: 10px; left: 50%; z-index: 2147483500; display: none;"></div>',document.body.appendChild(e.firstChild),e=document.getElementById("ncx_message-box"));
"show"==a?(e.innerHTML=b,e.style.display="block",e.style.marginLeft=-(e.clientWidth/2)+"px"):"fade"==a?(e.innerHTML=b,e.style.display="block",e.style.marginLeft=-(e.clientWidth/2)+"px",setTimeout(function(){Z("hide")},c)):"hide"==a&&(e.innerHTML="",e.style.display="none")}
function ma(){-1!=document.location.host.indexOf("newcrawler.com")&&(newcrawler_server_url="http://www.newcrawler.com/");"undefined"==typeof jQuery?Y(function(){la(function(){document.getElementById("ncx_message-box").remove();jQuery("#ncx_message-box").css({"background-color":"#BCDFB7"});Z("fade","Completed.",3E3);ka()});Y(function(){},newcrawler_server_url+"static/js/zeroclipboard-2.1.6/ZeroClipboard.min.js","mark-copy")},newcrawler_server_url+"static/js/jquery-1.7.min.js","mark-jquery"):(la(function(){document.getElementById("ncx_message-box").remove();
jQuery("#ncx_message-box").css({"background-color":"#BCDFB7"});Z("fade","Completed.",3E3);ka()}),Y(function(){},newcrawler_server_url+"static/js/zeroclipboard-2.1.6/ZeroClipboard.min.js","mark-copy"))}Z("show","Loading...");"loaded"!=document.readyState&&"complete"!=document.readyState||ma();document.onload=document.onreadystatechange=function(){"loaded"!=document.readyState&&"complete"!=document.readyState||ma()};
